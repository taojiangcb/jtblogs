---
title: å‰ç«¯å›½é™…åŒ–è§£å†³æ–¹æ¡ˆï¼šå…¨é¢äº†è§£ Lokalise çš„ä¼˜åŠ¿ä¸å®è·µ
catalog: true
tags:
  - React
date: 2025-06-20 23:55:22
subtitle:
header-img:
---

# å‰ç«¯å›½é™…åŒ–è§£å†³æ–¹æ¡ˆï¼šå…¨é¢äº†è§£ Lokalise çš„ä¼˜åŠ¿ä¸å®è·µ

## 1. ä»€ä¹ˆæ˜¯ Lokaliseï¼Ÿ

**Lokalise** æ˜¯ä¸€æ¬¾åŸºäºäº‘ç«¯çš„æœ¬åœ°åŒ–å’Œç¿»è¯‘ç®¡ç†å¹³å°ï¼Œä¸“ä¸ºå¼€å‘è€…ã€äº§å“ç»ç†å’Œæœ¬åœ°åŒ–å›¢é˜Ÿæ‰“é€ ï¼Œæ—¨åœ¨å¸®åŠ©å›¢é˜Ÿæ›´é«˜æ•ˆåœ°ç®¡ç†å¤šè¯­è¨€åº”ç”¨å’Œç½‘ç«™çš„ç¿»è¯‘æµç¨‹ã€‚

---

### âœ… ç®€å•ç†è§£ï¼š

å½“ä½ çš„åº”ç”¨æ”¯æŒå¤šè¯­è¨€ï¼ˆå¦‚ä¸­æ–‡ã€è‹±æ–‡ã€æ—¥æ–‡ç­‰ï¼‰ï¼Œæ¯æ¬¡æ–°å¢è¯­è¨€æˆ–ä¿®æ”¹æ–‡æ¡ˆéƒ½éœ€è¦æ‰‹åŠ¨ç¼–è¾‘ä»£ç å’Œè¯­è¨€æ–‡ä»¶ï¼Œéå¸¸ç¹çã€‚**Lokalise çš„ä½œç”¨å°±æ˜¯å°†è¿™äº›ç¿»è¯‘å†…å®¹é›†ä¸­ç®¡ç†ã€ååŒç¼–è¾‘ï¼Œå¹¶å¯è‡ªåŠ¨åŒæ­¥åˆ°é¡¹ç›®ä¸­**ï¼Œå¤§å¤§æå‡å¼€å‘ä¸æœ¬åœ°åŒ–æ•ˆç‡ã€‚

---

### ğŸ“Œ æ ¸å¿ƒåŠŸèƒ½æ¦‚è§ˆï¼š

| åŠŸèƒ½           | è¯´æ˜                                                 |
| ------------ | -------------------------------------------------- |
| å¤šè¯­è¨€ç¿»è¯‘ç®¡ç†      | æ”¯æŒå¸¸è§æ ¼å¼ï¼Œå¦‚ JSONã€YAMLã€iOS `.strings`ã€Android `.xml` ç­‰ |
| æ”¯æŒå¤šäººåä½œ       | ç¿»è¯‘äººå‘˜ã€å¼€å‘è€…ã€é¡¹ç›®ç»ç†å¯åœ¨å¹³å°ååŒå·¥ä½œ                              |
| è‡ªåŠ¨åŒæ­¥é›†æˆ       | å¯ä¸ GitHubã€GitLabã€Bitbucketã€Figmaã€Slack ç­‰å·¥å…·æ— ç¼é›†æˆ     |
| API ä¸ CLI æ”¯æŒ | æä¾› REST API ä¸ CLI å·¥å…·ï¼Œæ”¯æŒè‡ªåŠ¨åŒ–å¯¼å…¥å¯¼å‡ºæµç¨‹                   |
| é›†æˆæœºå™¨ç¿»è¯‘       | å¯å¯¹æ¥ Google Translateã€DeepL ç­‰ä¸»æµæœºå™¨ç¿»è¯‘æœåŠ¡               |
| ç¿»è¯‘è®°å¿†ï¼ˆTMï¼‰     | è‡ªåŠ¨è¯†åˆ«å¹¶å¤ç”¨å†å²ç¿»è¯‘å†…å®¹ï¼Œæå‡ä¸€è‡´æ€§ä¸æ•ˆç‡                             |

---

### ğŸ§‘â€ğŸ’» å‰ç«¯å¼€å‘è€…å¸¸è§ä½¿ç”¨åœºæ™¯ï¼š

* å°†æœ¬åœ° `locales/*.json` ç¿»è¯‘æ–‡ä»¶ä¸Šä¼ è‡³ Lokalise å¹³å°
* é‚€è¯·ç¿»è¯‘äººå‘˜åœ¨çº¿ç¼–è¾‘ç¿»è¯‘å†…å®¹
* è®¾ç½® Webhookï¼Œå®ç°ç¿»è¯‘æ›´æ–°è‡ªåŠ¨è§¦å‘æ„å»ºéƒ¨ç½²æµç¨‹
* ä½¿ç”¨ Lokalise CLI åœ¨æœ¬åœ°æˆ– CI/CD ä¸­æ‹‰å–æ›´æ–°åçš„ç¿»è¯‘å†…å®¹

---

### ğŸš€ æ”¯æŒçš„ä¸»æµæŠ€æœ¯æ ˆä¸é›†æˆå·¥å…·ï¼š

* **å‰ç«¯æ¡†æ¶**ï¼šReact + i18nextã€Vueã€Angular ç­‰
* **ç§»åŠ¨ç«¯å¼€å‘**ï¼šFlutterã€React Nativeã€iOSã€Android
* **CI/CD å·¥å…·é“¾**ï¼šGitHub Actionsã€GitLab CIã€Bitrise ç­‰

---

### ğŸ’° ä»·æ ¼è¯´æ˜ï¼ˆæˆªè‡³ 2024 å¹´ï¼‰ï¼š

Lokalise æä¾›å…è´¹è¯•ç”¨ï¼Œä½†é•¿æœŸä½¿ç”¨ä¸º**ä»˜è´¹åˆ¶**ï¼š

* **Starter è®¡åˆ’**ï¼šé€‚åˆå°å‹å›¢é˜Ÿï¼ŒæŒ‰é¡¹ç›®å’Œç”¨æˆ·æ•°é‡è®¡è´¹
* é«˜çº§è®¡åˆ’æ”¯æŒæ›´ä¸°å¯Œçš„åŠŸèƒ½ï¼Œå¦‚æƒé™æ§åˆ¶ã€æœ¯è¯­åº“ã€æœ¬åœ°åŒ– QA ç­‰

---

### ğŸ“ ç¤ºä¾‹ç¿»è¯‘æ–‡ä»¶ç»“æ„ï¼š

```json
// en.json
{
  "greeting": "Hello",
  "welcome": "Welcome to our site"
}

// zh.jsonï¼ˆLokalise å¹³å°ç®¡ç†ï¼‰
{
  "greeting": "ä½ å¥½",
  "welcome": "æ¬¢è¿æ¥åˆ°æˆ‘ä»¬çš„ç½‘ç«™"
}
```

è¿™äº›ç¿»è¯‘æ–‡ä»¶å¯ç”± Lokalise å¹³å°ç»Ÿä¸€ç®¡ç†ï¼Œè‡ªåŠ¨åŒæ­¥ã€æ ¡å¯¹å’Œç‰ˆæœ¬æ§åˆ¶ï¼Œæ— éœ€æ‰‹åŠ¨æ“ä½œã€‚

---

## 2. Lokalise CLI å®‰è£…ä¸ä½¿ç”¨æŒ‡å—

> å®˜æ–¹åœ°å€ï¼š[lokalise-cli-2-go GitHub](https://github.com/lokalise/lokalise-cli-2-go)

### ğŸ”§ ä¸€ã€å®‰è£…æ–¹å¼

Lokalise CLI æ”¯æŒå¤šå¹³å°å®‰è£…ï¼š

| ç³»ç»Ÿ          | å®‰è£…æ–¹å¼                    | ç¤ºä¾‹å‘½ä»¤/é“¾æ¥                                                                                                                                                                      |      |
| ----------- | ----------------------- | ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | ---- |
| **macOS**   | ä½¿ç”¨ Homebrew æˆ–ä¸‹è½½äºŒè¿›åˆ¶åŒ…     | `brew tap lokalise/cli-2 && brew install lokalise2`                                                                                                                          |      |
| **Linux**   | ä½¿ç”¨è„šæœ¬å®‰è£…æˆ–ä¸‹è½½äºŒè¿›åˆ¶åŒ…           | \`curl -sfL [https://raw.githubusercontent.com/lokalise/lokalise-cli-2-go/master/install.sh](https://raw.githubusercontent.com/lokalise/lokalise-cli-2-go/master/install.sh) | sh\` |
| **Windows** | ä½¿ç”¨ Scoop åŒ…ç®¡ç†å™¨æˆ–ä¸‹è½½ ZIP æ–‡ä»¶ | `scoop bucket add extras && scoop install lokalise2`                                                                                                                         |      |
| **Docker**  | é€šè¿‡é•œåƒæ–¹å¼ä½¿ç”¨                | `docker pull lokalise/cli-2-go`                                                                                                                                              |      |

---

### ğŸš€ äºŒã€æ ¸å¿ƒä½¿ç”¨æµç¨‹

#### 1. è·å– API Token

* ç™»å½• Lokalise â†’ ä¸ªäººèµ„æ–™é¡µ â†’ ç”Ÿæˆ API Token
* å›¢é˜Ÿæ¨èä½¿ç”¨ç‹¬ç«‹ API ç”¨æˆ·é…ç½®æƒé™ï¼Œä¾¿äºç®¡ç†

#### 2. åŸºæœ¬å‘½ä»¤æ ¼å¼

```bash
lokalise2 [å…¨å±€å‚æ•°] [å‘½ä»¤] [å­å‘½ä»¤] [å­å‘½ä»¤å‚æ•°]
```

ç¤ºä¾‹å‘½ä»¤ï¼š

* **ä¸‹è½½æ–‡ä»¶**

```bash
lokalise2 --token YOUR_TOKEN --project-id PROJECT_ID \
  file download --format json --unzip-to ./locales
```

* **ä¸Šä¼ æ–‡ä»¶**

```bash
lokalise2 --token YOUR_TOKEN --project-id PROJECT_ID \
  file upload --file /path/to/file.json --lang-iso en
```

---

### ğŸ“‚ ä¸‰ã€æ–‡ä»¶è‡ªåŠ¨ä¸‹è½½è„šæœ¬ç¤ºä¾‹

ä½ å¯ä»¥åœ¨é¡¹ç›®æ ¹ç›®å½•ç¼–å†™ä¸€ä¸ªè„šæœ¬ `lokalise.sh`ï¼š

```bash
lokalise2 file download \
  --token <YOUR_TOKEN> \
  --project-id <YOUR_PROJECT_ID> \
  --format json \
  --original-filenames=false \
  --bundle-structure %LANG_ISO%.%FORMAT% \
  --export-empty-as skip \
  --export-sort a_z \
  --json-unescaped-slashes \
  --include-pids <FILE_PID1>,<FILE_PID2> \
  --unzip-to ./src/locales/lang
```

**å‚æ•°è¯´æ˜ï¼š**

* `--format json`ï¼šå¯¼å‡ºä¸º JSON æ–‡ä»¶
* `--bundle-structure`ï¼šè‡ªå®šä¹‰å¯¼å‡ºæ–‡ä»¶ç»“æ„ï¼ˆå¦‚ `en.json`ï¼‰
* `--include-pids`ï¼šæŒ‡å®šåªå¯¼å‡ºç‰¹å®šæ–‡ä»¶
* `--unzip-to`ï¼šè®¾ç½®è¾“å‡ºè·¯å¾„

---

### âš ï¸ å››ã€å¸¸è§æ³¨æ„äº‹é¡¹

* **é€Ÿç‡é™åˆ¶**ï¼šæ¯ç§’æœ€å¤š 6 æ¬¡è¯·æ±‚ï¼Œè¶…é™å°†è¿”å› `429 HTTP` é”™è¯¯
* **å¸ƒå°”å€¼å‚æ•°**ï¼šéœ€ä½¿ç”¨ `=` è¿æ¥ï¼Œä¾‹å¦‚ `--original-filenames=false`
* **v2 ä¸ v1 CLI å‘½ä»¤ä¸å…¼å®¹**ï¼Œæ³¨æ„ç‰ˆæœ¬ä¸€è‡´æ€§
* **æ”¯æŒé…ç½®æ–‡ä»¶**ï¼šå¯ç”¨ `config.yml` ç®¡ç†å…¨å±€å‚æ•°ï¼Œå‘½ä»¤ä¸­é€šè¿‡ `--config` å¼•ç”¨

---

## 3. åœ¨ React é¡¹ç›®ä¸­é…ç½® Lokalise å›½é™…åŒ–

### âœ… å®‰è£…ç›¸å…³ä¾èµ–ï¼š

```bash
npm install i18next react-i18next i18next-http-backend i18next-browser-languagedetector
```

---

### âš™ï¸ åˆå§‹åŒ– i18n é…ç½®ï¼ˆi18n.tsï¼‰ï¼š

```ts
import i18n from 'i18next';
import { initReactI18next } from 'react-i18next';
import Backend from 'i18next-http-backend';
import LanguageDetector from 'i18next-browser-languagedetector';

i18n
  .use(Backend)
  .use(LanguageDetector)
  .use(initReactI18next)
  .init({
    fallbackLng: 'en',
    debug: process.env.NODE_ENV === 'development',
    interpolation: {
      escapeValue: false,
    },
    backend: {
      loadPath: '/locales/{{lng}}/{{ns}}.json',
    },
  });

export default i18n;
```

---

### ğŸ“¦ åœ¨å…¥å£æ–‡ä»¶ä¸­å¼•å…¥é…ç½®ï¼š

```jsx
import './i18n';
import React from 'react';
import ReactDOM from 'react-dom';
import App from './App';

ReactDOM.render(
  <React.StrictMode>
    <App />
  </React.StrictMode>,
  document.getElementById('root')
);
```

---

### ğŸ§© åœ¨ç»„ä»¶ä¸­ä½¿ç”¨ç¿»è¯‘ï¼š

```jsx
import { useTranslation } from 'react-i18next';

function Example() {
  const { t } = useTranslation();

  return (
    <div>
      <h1>{t('welcome')}</h1>
      <p>{t('description')}</p>
    </div>
  );
}

export default Example;
```

---

### ğŸŒ å®ç°è¯­è¨€åˆ‡æ¢åŠŸèƒ½ï¼š

```jsx
import { useTranslation } from 'react-i18next';

function LanguageSwitcher() {
  const { i18n } = useTranslation();

  const changeLanguage = (lng: string) => {
    i18n.changeLanguage(lng);
  };

  return (
    <div>
      <button onClick={() => changeLanguage('en')}>English</button>
      <button onClick={() => changeLanguage('zh')}>ä¸­æ–‡</button>
    </div>
  );
}

export default LanguageSwitcher;
```

---

## æ€»ç»“

Lokalise æä¾›äº†ä¸€æ•´å¥—å¤šè¯­è¨€å†…å®¹ç®¡ç†çš„è‡ªåŠ¨åŒ–è§£å†³æ–¹æ¡ˆï¼Œæå¤§æå‡äº†å¼€å‘ä¸æœ¬åœ°åŒ–æµç¨‹çš„ååŒæ•ˆç‡ã€‚é€šè¿‡ä¸ React + i18next é…åˆä½¿ç”¨ï¼Œä½ å¯ä»¥è½»æ¾å®ç°ä»ç¿»è¯‘ç®¡ç†åˆ°å‰ç«¯å±•ç¤ºçš„å®Œæ•´é—­ç¯ã€‚å¦‚æœä½ çš„å›¢é˜Ÿæ­£é¢ä¸´å¤šè¯­è¨€æ”¯æŒã€æ–‡æ¡ˆæ›´æ–°é¢‘ç¹ã€ååŒæ•ˆç‡ä½ç­‰é—®é¢˜ï¼ŒLokalise æ˜¯ä¸€ä¸ªå€¼å¾—å°è¯•çš„é«˜æ•ˆè§£å†³æ–¹æ¡ˆã€‚

---

å¦‚æœä½ éœ€è¦è¿›ä¸€æ­¥äº†è§£ React å›½é™…åŒ–ã€è‡ªåŠ¨åŒ–éƒ¨ç½²ã€å¤šè¯­è¨€æ„å»ºä¼˜åŒ–ç­‰å†…å®¹ï¼Œæ¬¢è¿å…³æ³¨æˆ‘çš„åšå®¢æŒç»­æ›´æ–°ï¼

âœï¸ åšå®¢åœ°å€ï¼š[https://taojiangcb.github.io/jtblogs/](https://taojiangcb.github.io/jtblogs/)
